package service;
import java.util.Calendar;
import java.util.Date;

import org.aspectj.lang.JoinPoint;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Before;

import model.Song;

@Aspect
public class LoggingServiceAnnotation {
	@Before("execution(* dao.MusicDAO.*(..))")
	public void logBefore(JoinPoint joinPoint) {

		Calendar calendar = Calendar.getInstance();
		Date currentTime = calendar.getTime();
		
		if(joinPoint.getArgs()!=null&&joinPoint.getClass().getName()!="findById"&&joinPoint.getClass().getName()!="search"){
		Song song=(Song)arg1[0];
		System.out.println("Running Method: "+arg0.getName()+" \n\tName: "+song.getName()+"\n\tAuthor: "+song.getAuthor()+"\n\tDate: "+currentTime);}
	}


}
